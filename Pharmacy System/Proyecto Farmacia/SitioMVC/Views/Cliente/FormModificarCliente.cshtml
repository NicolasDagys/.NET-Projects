@model _1_EC.Cliente

@{
    Layout = "~/Views/Shared/_Layout2.cshtml";
}

<h2>Modificar Cliente</h2>

<p>@ViewBag.Mensaje</p>

@Html.ActionLink("Volver al Listado", "MantenimientoClientes")

@if (Model == null)
{
    <!-- Formulario de búsqueda -->
    using (Html.BeginForm("BuscarCliente", "Cliente", FormMethod.Post))
    {
        @Html.AntiForgeryToken()

        <div class="form-group">
            <label for="ciCli">Cédula del Cliente:</label>
            <input type="text" id="ciCli" name="ciCli" class="form-control" required />
        </div>

        <button type="submit" class="btn btn-primary">Buscar</button>
    }
}
else
{
    <!-- Formulario de modificación -->
    using (Html.BeginForm("ModificarCliente", "Cliente", FormMethod.Post))
    {
        @Html.AntiForgeryToken()

        <div class="form-horizontal">
            <hr />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })

            <!-- Campo oculto para la CI (no editable) -->
            @Html.HiddenFor(model => model.CiCli)

            <div class="form-group">
                @Html.LabelFor(model => model.CiCli, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.TextBoxFor(model => model.CiCli, new { @class = "form-control", @readonly = "readonly" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.NomCli, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.NomCli, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.NomCli, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.NumTarjCli, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.NumTarjCli, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.NumTarjCli, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.TelCli, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.TelCli, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.TelCli, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Guardar Cambios" class="btn btn-primary" />
                    @Html.ActionLink("Cancelar", "MantenimientoClientes", null, new { @class = "btn btn-default" })
                </div>
            </div>
        </div>
    }
}